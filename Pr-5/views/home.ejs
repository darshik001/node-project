<%- include('header')%>


<div class="movies-container pt-3">
  <div class="movies-background"></div>

  <div class="container py-5">

```
<!-- Header -->
<div class="movies-header mb-5 d-flex justify-content-between align-items-center">
  <div class="col-6">
    <h1 class="text-light display-5 mb-2">
    <i class="fa-solid fa-popcorn text-warning me-3"></i>
    Movies
  </h1>
  </div>
     <% if(movies.length>0){%>

 <div class="col-6">
   <form action="">
    <input type="hidden" name="search" value="<%= search %>">
    <select type="submit" name="sorting" class="form-select" onchange="this.form.submit()">
      <option <%=sorting == ""?"selected":""%> value="">sort by name</option>
      <option <%=sorting == "ase"?"selected":""%> value="ase">Ascending</option>
      <option<%=sorting == "desc"?"selected":""%> value="desc">Descending</option>
    </select>
  </form>
 </div>
<%}%>
</div>

<!-- Movies Grid -->
<div class="row g-4">

  <!-- Movie Card -->

  <%movies.forEach((movie,i)=>{%>
       <div class="col-12 col-sm-6 col-md-4 col-lg-3">
    <div class="card movie-card h-100">

      <div class="movie-poster-container">
        <img src="<%=movie.poster%>" class="movie-poster" alt="Movie">

      

        <div class="movie-badges">
          <span class="badge genre-badge"><%=movie.genre%></span>
          <span class="badge rating-badge">
            <i class="fa fa-star me-1"></i><%=movie.rating%>
          </span>
          <button class="btn favorite-btn">
            <i class="fa-regular fa-heart text-light"></i>
          </button>
        </div>
      </div>

      <div class="card-body d-flex flex-column p-3">
        <h5 class="movie-title text-light mb-3"><%=movie.title%></h5>

        <div class="movie-meta mb-3">
          <div class="meta-item">
            <i class="fa fa-user text-warning me-2"></i>
            <span class="text-light"><%=movie.director%></span>
          </div>
          <div class="meta-item">
            <i class="fa fa-calendar text-warning me-2"></i>
            <span class="text-light"><%=movie.year%></span>
          </div>
          <div class="meta-item">
            <i class="fa fa-clock text-warning me-2"></i>
            <span class="text-light"><%=movie.duration%></span>
          </div>
          <div class="meta-item">
            <i class="fa fa-film text-warning me-2"></i>
            <span class="text-light"><%=movie.industry%></span>
          </div>
          <div class="meta-item">
            <i class="fa fa-globe text-warning me-2"></i>
            <span class="text-light"><%=movie.language%></span>
          </div>
        </div>

        <div class="d-flex mt-auto justify-content-around">
          <a href="/edit-movie/<%=movie.id%>" class="btn btn-outline-warning w-50">
            Edit
          </a>
           <a href="/delete-movie/<%=movie.id%>" class="btn btn-outline-danger w-50 ms-1">
            Delete
          </a>
        </div>
      </div>

    </div>
  </div>
  <%})%>

  <!-- PAGINATION -->
     <% if(movies.length>0){%>
       <nav class="mt-5">
    <ul class="pagination justify-content-center">

      <li class="page-item <%= currentPage === 1 ? 'disabled' : '' %>">
        <a class="page-link"
           href="?page=<%= currentPage - 1 %>&search=<%= search %>&sorting=<%= sorting %>">
          &laquo;
        </a>
      </li>

      <% for(let i = 1; i <= totalPages; i++) { %>
        <li class="page-item <%= currentPage === i ? 'active' : '' %>">
          <a class="page-link"
             href="?page=<%= i %>&search=<%= search %>&sorting=<%= sorting %>">
            <%= i %>
          </a>
        </li>
      <% } %>

      <li class="page-item <%= currentPage === totalPages ? 'disabled' : '' %>">
        <a class="page-link"
           href="?page=<%= currentPage + 1 %>&search=<%= search %>&sorting=<%= sorting %>">
          &raquo;
        </a>
      </li>

    </ul>
  </nav>
     <% } %>

     <% if(movies.length==0){%>
      <h2 class="text-center text-white">Movie Not Found</h2>
      <%}%>
     
</div>
